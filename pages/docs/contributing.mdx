import Conduct from '../../pagesComps/Docs/Contributing/Conduct';
import { InLink, ExLink } from '../../pagesComps/utils/Link';
import { LI, NestedUL } from '../../pagesComps/DocsLayout/MDXComps/Lists';
const moo = 'https://github.com/no-context/moo';
const newIss = 'https://github.com/JaimeGensler/lexour.js/issues/new';
const lexp = '/docs/lexer-explanation';
const lang = '/docs/custom-language-support';

# Contributing

This page includes guidelines for adding issues to lexour's github page, as well
as for submitting pull requests. If you're looking to contribute to lexour
(either with a PR or an issue), thank you so much!

<Conduct />

## Creating Issues (issues)

If you run into issues with lexour, make sure you've skimmed the documentation
first! In particular, if your issue relates to token types,
&#32;<InLink href={lexp}>read the lexer explanation</InLink> to make sure that
your problem isn't explained there. If your problem isn't solved anywhere,
please <ExLink href={newIss}>make an issue on Github</ExLink> and include the
following information:

-   Version of lexour _and React_ you are using.
-   Nature of the issue (tokenization, annotations, accessibility, mobile-use,
    browser support, et cetera).
-   A description of the issue, including steps to recreate it, the expected
    behavior, and other information relevent to your issue (browser/device,
    language).

You are also welcome to use Github issues to create feature requests! Provide
some information on the behavior you'd like to see implemented, and if it's
popular enough and/or doable, it just might happen!

## General Pull Request Guidelines (general-prs)

Pull requests are welcome for any part of this repository - tests, the package
itself, or the docs! Here are some guidelines to follow before making your pull
request:

-   **ALL** PRs must use TypeScript. PRs using JavaScript without good reason
    will be mercilessly (and gleefully) destroyed.
-   PRs must be formatted with prettier (config is included in the repository).
-   Avoid adding dependencies. PRs with dependencies may still be approved, but
    are not preferred. Dev dependencies for the docs/testing are no problem!
-   Short PRs may be self-explanatory, but larger PRs should offer a more
    detailed explanation of the changes made.
-   If your PR adds new features or changes existing functionality, you don't
    have to update the docs yourself, but make sure you provide enough
    information so that it is easy for others to do so.

Other than that, have at it!

## Language Pull Requests (language-prs)

If you've built a tokenizer for a language not already included in lexour,
you're welcome to submit a pull request! At present, for a language-addition
pull request to be approved, it must:

-   Follow the general contribution guidelines.
-   Be written using <ExLink href={moo}>Moo</ExLink>. _At this time, PRs that
    add new dependencies to tokenize code will not be approved_.
-   Be complete, including:

    <NestedUL>
        <LI>support for lexour annotations.</LI>
        <LI>
            use of <code>moo.error</code> to catch anything otherwise not
            covered by your rules.
        </LI>
        <LI>
            reuse of token names where sensible (**SEE HERE**), and new token
            names that follow this convention otherwise.
        </LI>
    </NestedUL>

-   Be for a language used by others. PRs to add toy languages won't be
    approved, but don't worry - lexour still has built-in &#32;
    <InLink href={lang}>support for your language</InLink>!

You'll likely need to make reasonable assumptions about how the language is
used - read the <InLink href={lexp}>lexer explanation</InLink> to get an idea of
some of the assumptions that were made for the JavaScript/TypeScript lexers.

---

You're also welcome to submit pull requests to modify existing lexers. If you'd
like to improve an existing lexer, your PR should:

-   Avoid unnecessary breaking changes. If your change can be made with no
    side-effects, then it should.
-   Avoid unnecessary complications to theming. New token names should follow
    the existing token name convention. Rely on lexour's fallback theming where
    sensible.
-   Include a rationale for the change. Is it faster? More concise? Did the
    original not work as expected?

_Changes that would potentially break the current release of lexour are still
highly encouraged, but their approval may take longer than non-breaking
changes_.
